"use strict";var qt=Object.defineProperty;var Oe=Object.getOwnPropertySymbols;var ht=Object.prototype.hasOwnProperty,pt=Object.prototype.propertyIsEnumerable;var dt=(e,n,t)=>n in e?qt(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t,F=(e,n)=>{for(var t in n||(n={}))ht.call(n,t)&&dt(e,t,n[t]);if(Oe)for(var t of Oe(n))pt.call(n,t)&&dt(e,t,n[t]);return e};var Ae=(e,n)=>{var t={};for(var o in e)ht.call(e,o)&&n.indexOf(o)<0&&(t[o]=e[o]);if(e!=null&&Oe)for(var o of Oe(e))n.indexOf(o)<0&&pt.call(e,o)&&(t[o]=e[o]);return t};Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const D=require("vue"),It="[vue-draggable-plus]: ";function Jt(e){console.warn(It+e)}function Kt(e){console.error(It+e)}function gt(e,n,t){return t>=0&&t<e.length&&e.splice(t,0,e.splice(n,1)[0]),e}function Zt(e){return e.replace(/-(\w)/g,(n,t)=>t?t.toUpperCase():"")}function Qt(e){return Object.keys(e).reduce((n,t)=>(typeof e[t]!="undefined"&&(n[Zt(t)]=e[t]),n),{})}function mt(e,n){return Array.isArray(e)&&e.splice(n,1),e}function bt(e,n,t){return Array.isArray(e)&&e.splice(n,0,t),e}function en(e){return typeof e=="undefined"}function tn(e){return typeof e=="string"}function yt(e,n,t){const o=e.children[t];e.insertBefore(n,o)}function ze(e){e.parentNode&&e.parentNode.removeChild(e)}function nn(e,n=document){var o;let t=null;return typeof(n==null?void 0:n.querySelector)=="function"?t=(o=n==null?void 0:n.querySelector)==null?void 0:o.call(n,e):t=document.querySelector(e),t||Jt(`Element not found: ${e}`),t}function on(e,n,t=null){return function(...o){return e.apply(t,o),n.apply(t,o)}}function rn(e,n){const t=F({},e);return Object.keys(n).forEach(o=>{t[o]?t[o]=on(e[o],n[o]):t[o]=n[o]}),t}function ln(e){return e instanceof HTMLElement}function wt(e,n){Object.keys(e).forEach(t=>{n(t,e[t])})}function an(e){return e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97)}const sn=Object.assign;/**!
 * Sortable 1.15.6
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function oe(){return oe=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},oe.apply(this,arguments)}var un="1.15.6";function ne(e){if(typeof window!="undefined"&&window.navigator)return!!navigator.userAgent.match(e)}const ie=ne(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),Ee=ne(/Edge/i),vt=ne(/firefox/i),ve=ne(/safari/i)&&!ne(/chrome/i)&&!ne(/android/i),at=ne(/iP(ad|od|hone)/i),Nt=ne(/chrome/i)&&ne(/android/i),Pt={capture:!1,passive:!1};function _(e,n,t){e.addEventListener(n,t,!ie&&Pt)}function v(e,n,t){e.removeEventListener(n,t,!ie&&Pt)}function ke(e,n){if(n){if(n[0]===">"&&(n=n.substring(1)),e)try{if(e.matches)return e.matches(n);if(e.msMatchesSelector)return e.msMatchesSelector(n);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(n)}catch(t){return!1}return!1}}function Rt(e){return e.host&&e!==document&&e.host.nodeType?e.host:e.parentNode}function Z(e,n,t,o){if(e){t=t||document;do{if(n!=null&&(n[0]===">"?e.parentNode===t&&ke(e,n):ke(e,n))||o&&e===t)return e;if(e===t)break}while(e=Rt(e))}return null}const St=/\s+/g;function G(e,n,t){if(e&&n)if(e.classList)e.classList[t?"add":"remove"](n);else{let o=(" "+e.className+" ").replace(St," ").replace(" "+n+" "," ");e.className=(o+(t?" "+n:"")).replace(St," ")}}function h(e,n,t){let o=e&&e.style;if(o){if(t===void 0)return document.defaultView&&document.defaultView.getComputedStyle?t=document.defaultView.getComputedStyle(e,""):e.currentStyle&&(t=e.currentStyle),n===void 0?t:t[n];!(n in o)&&n.indexOf("webkit")===-1&&(n="-webkit-"+n),o[n]=t+(typeof t=="string"?"":"px")}}function ge(e,n){let t="";if(typeof e=="string")t=e;else do{let i=h(e,"transform");i&&i!=="none"&&(t=i+" "+t)}while(!n&&(e=e.parentNode));const o=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return o&&new o(t)}function Xt(e,n,t){if(e){let o=e.getElementsByTagName(n),i=0,l=o.length;if(t)for(;i<l;i++)t(o[i],i);return o}return[]}function ee(){let e=document.scrollingElement;return e||document.documentElement}function R(e,n,t,o,i){if(!e.getBoundingClientRect&&e!==window)return;let l,r,a,s,c,d,f;if(e!==window&&e.parentNode&&e!==ee()?(l=e.getBoundingClientRect(),r=l.top,a=l.left,s=l.bottom,c=l.right,d=l.height,f=l.width):(r=0,a=0,s=window.innerHeight,c=window.innerWidth,d=window.innerHeight,f=window.innerWidth),(n||t)&&e!==window&&(i=i||e.parentNode,!ie))do if(i&&i.getBoundingClientRect&&(h(i,"transform")!=="none"||t&&h(i,"position")!=="static")){let b=i.getBoundingClientRect();r-=b.top+parseInt(h(i,"border-top-width")),a-=b.left+parseInt(h(i,"border-left-width")),s=r+l.height,c=a+l.width;break}while(i=i.parentNode);if(o&&e!==window){let b=ge(i||e),g=b&&b.a,S=b&&b.d;b&&(r/=S,a/=g,f/=g,d/=S,s=r+d,c=a+f)}return{top:r,left:a,bottom:s,right:c,width:f,height:d}}function _t(e,n,t){let o=ae(e,!0),i=R(e)[n];for(;o;){let l=R(o)[t],r;if(r=i>=l,!r)return o;if(o===ee())break;o=ae(o,!1)}return!1}function me(e,n,t,o){let i=0,l=0,r=e.children;for(;l<r.length;){if(r[l].style.display!=="none"&&r[l]!==p.ghost&&(o||r[l]!==p.dragged)&&Z(r[l],t.draggable,e,!1)){if(i===n)return r[l];i++}l++}return null}function st(e,n){let t=e.lastElementChild;for(;t&&(t===p.ghost||h(t,"display")==="none"||n&&!ke(t,n));)t=t.previousElementSibling;return t||null}function J(e,n){let t=0;if(!e||!e.parentNode)return-1;for(;e=e.previousElementSibling;)e.nodeName.toUpperCase()!=="TEMPLATE"&&e!==p.clone&&(!n||ke(e,n))&&t++;return t}function Dt(e){let n=0,t=0,o=ee();if(e)do{let i=ge(e),l=i.a,r=i.d;n+=e.scrollLeft*l,t+=e.scrollTop*r}while(e!==o&&(e=e.parentNode));return[n,t]}function cn(e,n){for(let t in e)if(e.hasOwnProperty(t)){for(let o in n)if(n.hasOwnProperty(o)&&n[o]===e[t][o])return Number(t)}return-1}function ae(e,n){if(!e||!e.getBoundingClientRect)return ee();let t=e,o=!1;do if(t.clientWidth<t.scrollWidth||t.clientHeight<t.scrollHeight){let i=h(t);if(t.clientWidth<t.scrollWidth&&(i.overflowX=="auto"||i.overflowX=="scroll")||t.clientHeight<t.scrollHeight&&(i.overflowY=="auto"||i.overflowY=="scroll")){if(!t.getBoundingClientRect||t===document.body)return ee();if(o||n)return t;o=!0}}while(t=t.parentNode);return ee()}function fn(e,n){if(e&&n)for(let t in n)n.hasOwnProperty(t)&&(e[t]=n[t]);return e}function Ge(e,n){return Math.round(e.top)===Math.round(n.top)&&Math.round(e.left)===Math.round(n.left)&&Math.round(e.height)===Math.round(n.height)&&Math.round(e.width)===Math.round(n.width)}let Se;function Yt(e,n){return function(){if(!Se){let t=arguments,o=this;t.length===1?e.call(o,t[0]):e.apply(o,t),Se=setTimeout(function(){Se=void 0},n)}}}function dn(){clearTimeout(Se),Se=void 0}function Ft(e,n,t){e.scrollLeft+=n,e.scrollTop+=t}function kt(e){let n=window.Polymer,t=window.jQuery||window.Zepto;return n&&n.dom?n.dom(e).cloneNode(!0):t?t(e).clone(!0)[0]:e.cloneNode(!0)}function Bt(e,n,t){const o={};return Array.from(e.children).forEach(i=>{var r,a,s,c;if(!Z(i,n.draggable,e,!1)||i.animated||i===t)return;const l=R(i);o.left=Math.min((r=o.left)!=null?r:1/0,l.left),o.top=Math.min((a=o.top)!=null?a:1/0,l.top),o.right=Math.max((s=o.right)!=null?s:-1/0,l.right),o.bottom=Math.max((c=o.bottom)!=null?c:-1/0,l.bottom)}),o.width=o.right-o.left,o.height=o.bottom-o.top,o.x=o.left,o.y=o.top,o}const $="Sortable"+new Date().getTime();function hn(){let e=[],n;return{captureAnimationState(){if(e=[],!this.options.animation)return;[].slice.call(this.el.children).forEach(o=>{if(h(o,"display")==="none"||o===p.ghost)return;e.push({target:o,rect:R(o)});let i=F({},e[e.length-1].rect);if(o.thisAnimationDuration){let l=ge(o,!0);l&&(i.top-=l.f,i.left-=l.e)}o.fromRect=i})},addAnimationState(t){e.push(t)},removeAnimationState(t){e.splice(cn(e,{target:t}),1)},animateAll(t){if(!this.options.animation){clearTimeout(n),typeof t=="function"&&t();return}let o=!1,i=0;e.forEach(l=>{let r=0,a=l.target,s=a.fromRect,c=R(a),d=a.prevFromRect,f=a.prevToRect,b=l.rect,g=ge(a,!0);g&&(c.top-=g.f,c.left-=g.e),a.toRect=c,a.thisAnimationDuration&&Ge(d,c)&&!Ge(s,c)&&(b.top-c.top)/(b.left-c.left)===(s.top-c.top)/(s.left-c.left)&&(r=gn(b,d,f,this.options)),Ge(c,s)||(a.prevFromRect=s,a.prevToRect=c,r||(r=this.options.animation),this.animate(a,b,c,r)),r&&(o=!0,i=Math.max(i,r),clearTimeout(a.animationResetTimer),a.animationResetTimer=setTimeout(function(){a.animationTime=0,a.prevFromRect=null,a.fromRect=null,a.prevToRect=null,a.thisAnimationDuration=null},r),a.thisAnimationDuration=r)}),clearTimeout(n),o?n=setTimeout(function(){typeof t=="function"&&t()},i):typeof t=="function"&&t(),e=[]},animate(t,o,i,l){if(l){h(t,"transition",""),h(t,"transform","");let r=ge(this.el),a=r&&r.a,s=r&&r.d,c=(o.left-i.left)/(a||1),d=(o.top-i.top)/(s||1);t.animatingX=!!c,t.animatingY=!!d,h(t,"transform","translate3d("+c+"px,"+d+"px,0)"),this.forRepaintDummy=pn(t),h(t,"transition","transform "+l+"ms"+(this.options.easing?" "+this.options.easing:"")),h(t,"transform","translate3d(0,0,0)"),typeof t.animated=="number"&&clearTimeout(t.animated),t.animated=setTimeout(function(){h(t,"transition",""),h(t,"transform",""),t.animated=!1,t.animatingX=!1,t.animatingY=!1},l)}}}}function pn(e){return e.offsetWidth}function gn(e,n,t,o){return Math.sqrt(Math.pow(n.top-e.top,2)+Math.pow(n.left-e.left,2))/Math.sqrt(Math.pow(n.top-t.top,2)+Math.pow(n.left-t.left,2))*o.animation}let fe=[];const Ue={initializeByDefault:!0};var Te={mount(e){for(let n in Ue)Ue.hasOwnProperty(n)&&!(n in e)&&(e[n]=Ue[n]);fe.forEach(n=>{if(n.pluginName===e.pluginName)throw`Sortable: Cannot mount plugin ${e.pluginName} more than once`}),fe.push(e)},pluginEvent(e,n,t){this.eventCanceled=!1,t.cancel=()=>{this.eventCanceled=!0};const o=e+"Global";fe.forEach(i=>{n[i.pluginName]&&(n[i.pluginName][o]&&n[i.pluginName][o](F({sortable:n},t)),n.options[i.pluginName]&&n[i.pluginName][e]&&n[i.pluginName][e](F({sortable:n},t)))})},initializePlugins(e,n,t,o){fe.forEach(i=>{const l=i.pluginName;if(!e.options[l]&&!i.initializeByDefault)return;let r=new i(e,n,e.options);r.sortable=e,r.options=e.options,e[l]=r,oe(t,r.defaults)});for(let i in e.options){if(!e.options.hasOwnProperty(i))continue;let l=this.modifyOption(e,i,e.options[i]);typeof l!="undefined"&&(e.options[i]=l)}},getEventProperties(e,n){let t={};return fe.forEach(o=>{typeof o.eventProperties=="function"&&oe(t,o.eventProperties.call(n[o.pluginName],e))}),t},modifyOption(e,n,t){let o;return fe.forEach(i=>{e[i.pluginName]&&i.optionListeners&&typeof i.optionListeners[n]=="function"&&(o=i.optionListeners[n].call(e[i.pluginName],t))}),o}};function mn({sortable:e,rootEl:n,name:t,targetEl:o,cloneEl:i,toEl:l,fromEl:r,oldIndex:a,newIndex:s,oldDraggableIndex:c,newDraggableIndex:d,originalEvent:f,putSortable:b,extraEventProperties:g}){if(e=e||n&&n[$],!e)return;let S,H=e.options,z="on"+t.charAt(0).toUpperCase()+t.substr(1);window.CustomEvent&&!ie&&!Ee?S=new CustomEvent(t,{bubbles:!0,cancelable:!0}):(S=document.createEvent("Event"),S.initEvent(t,!0,!0)),S.to=l||n,S.from=r||n,S.item=o||n,S.clone=i,S.oldIndex=a,S.newIndex=s,S.oldDraggableIndex=c,S.newDraggableIndex=d,S.originalEvent=f,S.pullMode=b?b.lastPutMode:void 0;let I=F(F({},g),Te.getEventProperties(t,e));for(let j in I)S[j]=I[j];n&&n.dispatchEvent(S),H[z]&&H[z].call(e,S)}let V=function(e,n,i={}){var l=i,{evt:t}=l,o=Ae(l,["evt"]);Te.pluginEvent.bind(p)(e,n,F({dragEl:u,parentEl:M,ghostEl:m,rootEl:x,nextEl:ce,lastDownEl:Re,cloneEl:A,cloneHidden:le,dragStarted:be,putSortable:k,activeSortable:p.active,originalEvent:t,oldIndex:pe,oldDraggableIndex:_e,newIndex:U,newDraggableIndex:re,hideGhostForTarget:Vt,unhideGhostForTarget:$t,cloneNowHidden(){le=!0},cloneNowShown(){le=!1},dispatchSortableEvent(r){W({sortable:n,name:r,originalEvent:t})}},o))};function W(e){mn(F({putSortable:k,cloneEl:A,targetEl:u,rootEl:x,oldIndex:pe,oldDraggableIndex:_e,newIndex:U,newDraggableIndex:re},e))}let u,M,m,x,ce,Re,A,le,pe,U,_e,re,Me,k,he=!1,Be=!1,Le=[],se,K,je,qe,Ct,Et,be,de,De,Ce=!1,Ie=!1,Xe,L,Je=[],nt=!1,He=[];const Ve=typeof document!="undefined",Ne=at,Tt=Ee||ie?"cssFloat":"float",bn=Ve&&!Nt&&!at&&"draggable"in document.createElement("div"),Lt=function(){if(!Ve)return;if(ie)return!1;let e=document.createElement("x");return e.style.cssText="pointer-events:auto",e.style.pointerEvents==="auto"}(),Ht=function(e,n){let t=h(e),o=parseInt(t.width)-parseInt(t.paddingLeft)-parseInt(t.paddingRight)-parseInt(t.borderLeftWidth)-parseInt(t.borderRightWidth),i=me(e,0,n),l=me(e,1,n),r=i&&h(i),a=l&&h(l),s=r&&parseInt(r.marginLeft)+parseInt(r.marginRight)+R(i).width,c=a&&parseInt(a.marginLeft)+parseInt(a.marginRight)+R(l).width;if(t.display==="flex")return t.flexDirection==="column"||t.flexDirection==="column-reverse"?"vertical":"horizontal";if(t.display==="grid")return t.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(i&&r.float&&r.float!=="none"){let d=r.float==="left"?"left":"right";return l&&(a.clear==="both"||a.clear===d)?"vertical":"horizontal"}return i&&(r.display==="block"||r.display==="flex"||r.display==="table"||r.display==="grid"||s>=o&&t[Tt]==="none"||l&&t[Tt]==="none"&&s+c>o)?"vertical":"horizontal"},yn=function(e,n,t){let o=t?e.left:e.top,i=t?e.right:e.bottom,l=t?e.width:e.height,r=t?n.left:n.top,a=t?n.right:n.bottom,s=t?n.width:n.height;return o===r||i===a||o+l/2===r+s/2},wn=function(e,n){let t;return Le.some(o=>{const i=o[$].options.emptyInsertThreshold;if(!i||st(o))return;const l=R(o),r=e>=l.left-i&&e<=l.right+i,a=n>=l.top-i&&n<=l.bottom+i;if(r&&a)return t=o}),t},Wt=function(e){function n(i,l){return function(r,a,s,c){let d=r.options.group.name&&a.options.group.name&&r.options.group.name===a.options.group.name;if(i==null&&(l||d))return!0;if(i==null||i===!1)return!1;if(l&&i==="clone")return i;if(typeof i=="function")return n(i(r,a,s,c),l)(r,a,s,c);{let f=(l?r:a).options.group.name;return i===!0||typeof i=="string"&&i===f||i.join&&i.indexOf(f)>-1}}}let t={},o=e.group;(!o||typeof o!="object")&&(o={name:o}),t.name=o.name,t.checkPull=n(o.pull,!0),t.checkPut=n(o.put),t.revertClone=o.revertClone,e.group=t},Vt=function(){!Lt&&m&&h(m,"display","none")},$t=function(){!Lt&&m&&h(m,"display","")};Ve&&!Nt&&document.addEventListener("click",function(e){if(Be)return e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),Be=!1,!1},!0);let ue=function(e){if(u){e=e.touches?e.touches[0]:e;let n=wn(e.clientX,e.clientY);if(n){let t={};for(let o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);t.target=t.rootEl=n,t.preventDefault=void 0,t.stopPropagation=void 0,n[$]._onDragOver(t)}}},vn=function(e){u&&u.parentNode[$]._isOutsideThisEl(e.target)};function p(e,n){if(!(e&&e.nodeType&&e.nodeType===1))throw`Sortable: \`el\` must be an HTMLElement, not ${{}.toString.call(e)}`;this.el=e,this.options=n=oe({},n),e[$]=this;let t={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(e.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return Ht(e,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(o,i){o.setData("Text",i.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:p.supportPointer!==!1&&"PointerEvent"in window&&(!ve||at),emptyInsertThreshold:5};Te.initializePlugins(this,e,t);for(let o in t)!(o in n)&&(n[o]=t[o]);Wt(n);for(let o in this)o.charAt(0)==="_"&&typeof this[o]=="function"&&(this[o]=this[o].bind(this));this.nativeDraggable=n.forceFallback?!1:bn,this.nativeDraggable&&(this.options.touchStartThreshold=1),n.supportPointer?_(e,"pointerdown",this._onTapStart):(_(e,"mousedown",this._onTapStart),_(e,"touchstart",this._onTapStart)),this.nativeDraggable&&(_(e,"dragover",this),_(e,"dragenter",this)),Le.push(this.el),n.store&&n.store.get&&this.sort(n.store.get(this)||[]),oe(this,hn())}p.prototype={constructor:p,_isOutsideThisEl:function(e){!this.el.contains(e)&&e!==this.el&&(de=null)},_getDirection:function(e,n){return typeof this.options.direction=="function"?this.options.direction.call(this,e,n,u):this.options.direction},_onTapStart:function(e){if(!e.cancelable)return;let n=this,t=this.el,o=this.options,i=o.preventOnFilter,l=e.type,r=e.touches&&e.touches[0]||e.pointerType&&e.pointerType==="touch"&&e,a=(r||e).target,s=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||a,c=o.filter;if(On(t),!u&&!(/mousedown|pointerdown/.test(l)&&e.button!==0||o.disabled)&&!s.isContentEditable&&!(!this.nativeDraggable&&ve&&a&&a.tagName.toUpperCase()==="SELECT")&&(a=Z(a,o.draggable,t,!1),!(a&&a.animated)&&Re!==a)){if(pe=J(a),_e=J(a,o.draggable),typeof c=="function"){if(c.call(this,e,a,this)){W({sortable:n,rootEl:s,name:"filter",targetEl:a,toEl:t,fromEl:t}),V("filter",n,{evt:e}),i&&e.preventDefault();return}}else if(c&&(c=c.split(",").some(function(d){if(d=Z(s,d.trim(),t,!1),d)return W({sortable:n,rootEl:d,name:"filter",targetEl:a,fromEl:t,toEl:t}),V("filter",n,{evt:e}),!0}),c)){i&&e.preventDefault();return}o.handle&&!Z(s,o.handle,t,!1)||this._prepareDragStart(e,r,a)}},_prepareDragStart:function(e,n,t){let o=this,i=o.el,l=o.options,r=i.ownerDocument,a;if(t&&!u&&t.parentNode===i){let s=R(t);if(x=i,u=t,M=u.parentNode,ce=u.nextSibling,Re=t,Me=l.group,p.dragged=u,se={target:u,clientX:(n||e).clientX,clientY:(n||e).clientY},Ct=se.clientX-s.left,Et=se.clientY-s.top,this._lastX=(n||e).clientX,this._lastY=(n||e).clientY,u.style["will-change"]="all",a=function(){if(V("delayEnded",o,{evt:e}),p.eventCanceled){o._onDrop();return}o._disableDelayedDragEvents(),!vt&&o.nativeDraggable&&(u.draggable=!0),o._triggerDragStart(e,n),W({sortable:o,name:"choose",originalEvent:e}),G(u,l.chosenClass,!0)},l.ignore.split(",").forEach(function(c){Xt(u,c.trim(),Ke)}),_(r,"dragover",ue),_(r,"mousemove",ue),_(r,"touchmove",ue),l.supportPointer?(_(r,"pointerup",o._onDrop),!this.nativeDraggable&&_(r,"pointercancel",o._onDrop)):(_(r,"mouseup",o._onDrop),_(r,"touchend",o._onDrop),_(r,"touchcancel",o._onDrop)),vt&&this.nativeDraggable&&(this.options.touchStartThreshold=4,u.draggable=!0),V("delayStart",this,{evt:e}),l.delay&&(!l.delayOnTouchOnly||n)&&(!this.nativeDraggable||!(Ee||ie))){if(p.eventCanceled){this._onDrop();return}l.supportPointer?(_(r,"pointerup",o._disableDelayedDrag),_(r,"pointercancel",o._disableDelayedDrag)):(_(r,"mouseup",o._disableDelayedDrag),_(r,"touchend",o._disableDelayedDrag),_(r,"touchcancel",o._disableDelayedDrag)),_(r,"mousemove",o._delayedDragTouchMoveHandler),_(r,"touchmove",o._delayedDragTouchMoveHandler),l.supportPointer&&_(r,"pointermove",o._delayedDragTouchMoveHandler),o._dragStartTimer=setTimeout(a,l.delay)}else a()}},_delayedDragTouchMoveHandler:function(e){let n=e.touches?e.touches[0]:e;Math.max(Math.abs(n.clientX-this._lastX),Math.abs(n.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){u&&Ke(u),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){let e=this.el.ownerDocument;v(e,"mouseup",this._disableDelayedDrag),v(e,"touchend",this._disableDelayedDrag),v(e,"touchcancel",this._disableDelayedDrag),v(e,"pointerup",this._disableDelayedDrag),v(e,"pointercancel",this._disableDelayedDrag),v(e,"mousemove",this._delayedDragTouchMoveHandler),v(e,"touchmove",this._delayedDragTouchMoveHandler),v(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,n){n=n||e.pointerType=="touch"&&e,!this.nativeDraggable||n?this.options.supportPointer?_(document,"pointermove",this._onTouchMove):n?_(document,"touchmove",this._onTouchMove):_(document,"mousemove",this._onTouchMove):(_(u,"dragend",this),_(x,"dragstart",this._onDragStart));try{document.selection?Ye(()=>{document.selection.empty()}):window.getSelection().removeAllRanges()}catch(t){}},_dragStarted:function(e,n){if(he=!1,x&&u){V("dragStarted",this,{evt:n}),this.nativeDraggable&&_(document,"dragover",vn);let t=this.options;!e&&G(u,t.dragClass,!1),G(u,t.ghostClass,!0),p.active=this,e&&this._appendGhost(),W({sortable:this,name:"start",originalEvent:n})}else this._nulling()},_emulateDragOver:function(){if(K){this._lastX=K.clientX,this._lastY=K.clientY,Vt();let e=document.elementFromPoint(K.clientX,K.clientY),n=e;for(;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(K.clientX,K.clientY),e!==n);)n=e;if(u.parentNode[$]._isOutsideThisEl(e),n)do{if(n[$]){let t;if(t=n[$]._onDragOver({clientX:K.clientX,clientY:K.clientY,target:e,rootEl:n}),t&&!this.options.dragoverBubble)break}e=n}while(n=Rt(n));$t()}},_onTouchMove:function(e){if(se){let n=this.options,t=n.fallbackTolerance,o=n.fallbackOffset,i=e.touches?e.touches[0]:e,l=m&&ge(m,!0),r=m&&l&&l.a,a=m&&l&&l.d,s=Ne&&L&&Dt(L),c=(i.clientX-se.clientX+o.x)/(r||1)+(s?s[0]-Je[0]:0)/(r||1),d=(i.clientY-se.clientY+o.y)/(a||1)+(s?s[1]-Je[1]:0)/(a||1);if(!p.active&&!he){if(t&&Math.max(Math.abs(i.clientX-this._lastX),Math.abs(i.clientY-this._lastY))<t)return;this._onDragStart(e,!0)}if(m){l?(l.e+=c-(je||0),l.f+=d-(qe||0)):l={a:1,b:0,c:0,d:1,e:c,f:d};let f=`matrix(${l.a},${l.b},${l.c},${l.d},${l.e},${l.f})`;h(m,"webkitTransform",f),h(m,"mozTransform",f),h(m,"msTransform",f),h(m,"transform",f),je=c,qe=d,K=i}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!m){console.log("x");let e=this.options.fallbackOnBody?document.body:x,n=R(u,!0,Ne,!0,e),t=this.options;if(Ne){for(L=e;h(L,"position")==="static"&&h(L,"transform")==="none"&&L!==document;)L=L.parentNode;L!==document.body&&L!==document.documentElement?(L===document&&(L=ee()),n.top+=L.scrollTop,n.left+=L.scrollLeft):L=ee(),Je=Dt(L)}m=u.cloneNode(!0),G(m,t.ghostClass,!1),G(m,t.fallbackClass,!0),G(m,t.dragClass,!0),h(m,"transition",""),h(m,"transform",""),h(m,"box-sizing","border-box"),h(m,"margin",0),h(m,"top",n.top),h(m,"left",n.left),h(m,"width",n.width),h(m,"height",n.height),h(m,"opacity","0.8"),h(m,"position",Ne?"absolute":"fixed"),h(m,"zIndex","100000"),h(m,"pointerEvents","none"),p.ghost=m,e.appendChild(m),h(m,"transform-origin",Ct/parseInt(m.style.width)*100+"% "+Et/parseInt(m.style.height)*100+"%")}},_onDragStart:function(e,n){let t=this,o=e.dataTransfer,i=t.options;if(V("dragStart",this,{evt:e}),p.eventCanceled){this._onDrop();return}V("setupClone",this),p.eventCanceled||(A=kt(u),A.removeAttribute("id"),A.draggable=!1,A.style["will-change"]="",this._hideClone(),G(A,this.options.chosenClass,!1),p.clone=A),t.cloneId=Ye(function(){V("clone",t),!p.eventCanceled&&(t.options.removeCloneOnHide||x.insertBefore(A,u),t._hideClone(),W({sortable:t,name:"clone"}))}),!n&&G(u,i.dragClass,!0),n?(Be=!0,t._loopId=setInterval(t._emulateDragOver,50)):(v(document,"mouseup",t._onDrop),v(document,"touchend",t._onDrop),v(document,"touchcancel",t._onDrop),o&&(o.effectAllowed="move",i.setData&&i.setData.call(t,o,u)),_(document,"drop",t),h(u,"transform","translateZ(0)")),he=!0,t._dragStartId=Ye(t._dragStarted.bind(t,n,e)),_(document,"selectstart",t),be=!0,window.getSelection().removeAllRanges(),ve&&h(document.body,"user-select","none")},_onDragOver:function(e){let n=this.el,t=e.target,o,i,l,r=this.options,a=r.group,s=p.active,c=Me===a,d=r.sort,f=k||s,b,g=this,S=!1;if(nt)return;function H(C,Y){V(C,g,F({evt:e,isOwner:c,axis:b?"vertical":"horizontal",revert:l,dragRect:o,targetRect:i,canSort:d,fromSortable:f,target:t,completed:I,onMove(q,Q){return Pe(x,n,u,o,q,R(q),e,Q)},changed:j},Y))}function z(){H("dragOverAnimationCapture"),g.captureAnimationState(),g!==f&&f.captureAnimationState()}function I(C){return H("dragOverCompleted",{insertion:C}),C&&(c?s._hideClone():s._showClone(g),g!==f&&(G(u,k?k.options.ghostClass:s.options.ghostClass,!1),G(u,r.ghostClass,!0)),k!==g&&g!==p.active?k=g:g===p.active&&k&&(k=null),f===g&&(g._ignoreWhileAnimating=t),g.animateAll(function(){H("dragOverAnimationComplete"),g._ignoreWhileAnimating=null}),g!==f&&(f.animateAll(),f._ignoreWhileAnimating=null)),(t===u&&!u.animated||t===n&&!t.animated)&&(de=null),!r.dragoverBubble&&!e.rootEl&&t!==document&&(u.parentNode[$]._isOutsideThisEl(e.target),!C&&ue(e)),!r.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),S=!0}function j(){U=J(u),re=J(u,r.draggable),W({sortable:g,name:"change",toEl:n,newIndex:U,newDraggableIndex:re,originalEvent:e})}if(e.preventDefault!==void 0&&e.cancelable&&e.preventDefault(),t=Z(t,r.draggable,n,!0),H("dragOver"),p.eventCanceled)return S;if(u.contains(e.target)||t.animated&&t.animatingX&&t.animatingY||g._ignoreWhileAnimating===t)return I(!1);if(Be=!1,s&&!r.disabled&&(c?d||(l=M!==x):k===this||(this.lastPutMode=Me.checkPull(this,s,u,e))&&a.checkPut(this,s,u,e))){if(b=this._getDirection(e,t)==="vertical",o=R(u),H("dragOverValid"),p.eventCanceled)return S;if(l)return M=x,z(),this._hideClone(),H("revert"),p.eventCanceled||(ce?x.insertBefore(u,ce):x.appendChild(u)),I(!0);let C=st(n,r.draggable);if(!C||Cn(e,b,this)&&!C.animated){if(C===u)return I(!1);if(C&&n===e.target&&(t=C),t&&(i=R(t)),Pe(x,n,u,o,t,i,e,!!t)!==!1)return z(),C&&C.nextSibling?n.insertBefore(u,C.nextSibling):n.appendChild(u),M=n,j(),I(!0)}else if(C&&Dn(e,b,this)){let Y=me(n,0,r,!0);if(Y===u)return I(!1);if(t=Y,i=R(t),Pe(x,n,u,o,t,i,e,!1)!==!1)return z(),n.insertBefore(u,Y),M=n,j(),I(!0)}else if(t.parentNode===n){i=R(t);let Y=0,q,Q=u.parentNode!==n,te=!yn(u.animated&&u.toRect||o,t.animated&&t.toRect||i,b),y=b?"top":"left",w=_t(t,"top","top")||_t(u,"top","top"),X=w?w.scrollTop:void 0;de!==t&&(q=i[y],Ce=!1,Ie=!te&&r.invertSwap||Q),Y=En(e,t,i,b,te?1:r.swapThreshold,r.invertedSwapThreshold==null?r.swapThreshold:r.invertedSwapThreshold,Ie,de===t);let N;if(Y!==0){let B=J(u);do B-=Y,N=M.children[B];while(N&&(h(N,"display")==="none"||N===m))}if(Y===0||N===t)return I(!1);de=t,De=Y;let E=t.nextElementSibling,T=!1;T=Y===1;let O=Pe(x,n,u,o,t,i,e,T);if(O!==!1)return(O===1||O===-1)&&(T=O===1),nt=!0,setTimeout(_n,30),z(),T&&!E?n.appendChild(u):t.parentNode.insertBefore(u,T?E:t),w&&Ft(w,0,X-w.scrollTop),M=u.parentNode,q!==void 0&&!Ie&&(Xe=Math.abs(q-R(t)[y])),j(),I(!0)}if(n.contains(u))return I(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){v(document,"mousemove",this._onTouchMove),v(document,"touchmove",this._onTouchMove),v(document,"pointermove",this._onTouchMove),v(document,"dragover",ue),v(document,"mousemove",ue),v(document,"touchmove",ue)},_offUpEvents:function(){let e=this.el.ownerDocument;v(e,"mouseup",this._onDrop),v(e,"touchend",this._onDrop),v(e,"pointerup",this._onDrop),v(e,"pointercancel",this._onDrop),v(e,"touchcancel",this._onDrop),v(document,"selectstart",this)},_onDrop:function(e){let n=this.el,t=this.options;if(U=J(u),re=J(u,t.draggable),V("drop",this,{evt:e}),M=u&&u.parentNode,U=J(u),re=J(u,t.draggable),p.eventCanceled){this._nulling();return}he=!1,Ie=!1,Ce=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),ot(this.cloneId),ot(this._dragStartId),this.nativeDraggable&&(v(document,"drop",this),v(n,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),ve&&h(document.body,"user-select",""),h(u,"transform",""),e&&(be&&(e.cancelable&&e.preventDefault(),!t.dropBubble&&e.stopPropagation()),m&&m.parentNode&&m.parentNode.removeChild(m),(x===M||k&&k.lastPutMode!=="clone")&&A&&A.parentNode&&A.parentNode.removeChild(A),u&&(this.nativeDraggable&&v(u,"dragend",this),Ke(u),u.style["will-change"]="",be&&!he&&G(u,k?k.options.ghostClass:this.options.ghostClass,!1),G(u,this.options.chosenClass,!1),W({sortable:this,name:"unchoose",toEl:M,newIndex:null,newDraggableIndex:null,originalEvent:e}),x!==M?(U>=0&&(W({rootEl:M,name:"add",toEl:M,fromEl:x,originalEvent:e}),W({sortable:this,name:"remove",toEl:M,originalEvent:e}),W({rootEl:M,name:"sort",toEl:M,fromEl:x,originalEvent:e}),W({sortable:this,name:"sort",toEl:M,originalEvent:e})),k&&k.save()):U!==pe&&U>=0&&(W({sortable:this,name:"update",toEl:M,originalEvent:e}),W({sortable:this,name:"sort",toEl:M,originalEvent:e})),p.active&&((U==null||U===-1)&&(U=pe,re=_e),W({sortable:this,name:"end",toEl:M,originalEvent:e}),this.save()))),this._nulling()},_nulling:function(){V("nulling",this),x=u=M=m=ce=A=Re=le=se=K=be=U=re=pe=_e=de=De=k=Me=p.dragged=p.ghost=p.clone=p.active=null,He.forEach(function(e){e.checked=!0}),He.length=je=qe=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":u&&(this._onDragOver(e),Sn(e));break;case"selectstart":e.preventDefault();break}},toArray:function(){let e=[],n,t=this.el.children,o=0,i=t.length,l=this.options;for(;o<i;o++)n=t[o],Z(n,l.draggable,this.el,!1)&&e.push(n.getAttribute(l.dataIdAttr)||xn(n));return e},sort:function(e,n){let t={},o=this.el;this.toArray().forEach(function(i,l){let r=o.children[l];Z(r,this.options.draggable,o,!1)&&(t[i]=r)},this),n&&this.captureAnimationState(),e.forEach(function(i){t[i]&&(o.removeChild(t[i]),o.appendChild(t[i]))}),n&&this.animateAll()},save:function(){let e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,n){return Z(e,n||this.options.draggable,this.el,!1)},option:function(e,n){let t=this.options;if(n===void 0)return t[e];{let o=Te.modifyOption(this,e,n);typeof o!="undefined"?t[e]=o:t[e]=n,e==="group"&&Wt(t)}},destroy:function(){V("destroy",this);let e=this.el;e[$]=null,v(e,"mousedown",this._onTapStart),v(e,"touchstart",this._onTapStart),v(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(v(e,"dragover",this),v(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(n){n.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),Le.splice(Le.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!le){if(V("hideClone",this),p.eventCanceled)return;h(A,"display","none"),this.options.removeCloneOnHide&&A.parentNode&&A.parentNode.removeChild(A),le=!0}},_showClone:function(e){if(e.lastPutMode!=="clone"){this._hideClone();return}if(le){if(V("showClone",this),p.eventCanceled)return;u.parentNode==x&&!this.options.group.revertClone?x.insertBefore(A,u):ce?x.insertBefore(A,ce):x.appendChild(A),this.options.group.revertClone&&this.animate(u,A),h(A,"display",""),le=!1}}};function Sn(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move"),e.cancelable&&e.preventDefault()}function Pe(e,n,t,o,i,l,r,a){let s,c=e[$],d=c.options.onMove,f;return window.CustomEvent&&!ie&&!Ee?s=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(s=document.createEvent("Event"),s.initEvent("move",!0,!0)),s.to=n,s.from=e,s.dragged=t,s.draggedRect=o,s.related=i||n,s.relatedRect=l||R(n),s.willInsertAfter=a,s.originalEvent=r,e.dispatchEvent(s),d&&(f=d.call(c,s,r)),f}function Ke(e){e.draggable=!1}function _n(){nt=!1}function Dn(e,n,t){let o=R(me(t.el,0,t.options,!0));const i=Bt(t.el,t.options,m),l=10;return n?e.clientX<i.left-l||e.clientY<o.top&&e.clientX<o.right:e.clientY<i.top-l||e.clientY<o.bottom&&e.clientX<o.left}function Cn(e,n,t){const o=R(st(t.el,t.options.draggable)),i=Bt(t.el,t.options,m),l=10;return n?e.clientX>i.right+l||e.clientY>o.bottom&&e.clientX>o.left:e.clientY>i.bottom+l||e.clientX>o.right&&e.clientY>o.top}function En(e,n,t,o,i,l,r,a){let s=o?e.clientY:e.clientX,c=o?t.height:t.width,d=o?t.top:t.left,f=o?t.bottom:t.right,b=!1;if(!r){if(a&&Xe<c*i){if(!Ce&&(De===1?s>d+c*l/2:s<f-c*l/2)&&(Ce=!0),Ce)b=!0;else if(De===1?s<d+Xe:s>f-Xe)return-De}else if(s>d+c*(1-i)/2&&s<f-c*(1-i)/2)return Tn(n)}return b=b||r,b&&(s<d+c*l/2||s>f-c*l/2)?s>d+c/2?1:-1:0}function Tn(e){return J(u)<J(e)?1:-1}function xn(e){let n=e.tagName+e.className+e.src+e.href+e.textContent,t=n.length,o=0;for(;t--;)o+=n.charCodeAt(t);return o.toString(36)}function On(e){He.length=0;let n=e.getElementsByTagName("input"),t=n.length;for(;t--;){let o=n[t];o.checked&&He.push(o)}}function Ye(e){return setTimeout(e,0)}function ot(e){return clearTimeout(e)}Ve&&_(document,"touchmove",function(e){(p.active||he)&&e.cancelable&&e.preventDefault()});p.utils={on:_,off:v,css:h,find:Xt,is:function(e,n){return!!Z(e,n,e,!1)},extend:fn,throttle:Yt,closest:Z,toggleClass:G,clone:kt,index:J,nextTick:Ye,cancelNextTick:ot,detectDirection:Ht,getChild:me,expando:$};p.get=function(e){return e[$]};p.mount=function(...e){e[0].constructor===Array&&(e=e[0]),e.forEach(n=>{if(!n.prototype||!n.prototype.constructor)throw`Sortable: Mounted plugin must be a constructor function, not ${{}.toString.call(n)}`;n.utils&&(p.utils=F(F({},p.utils),n.utils)),Te.mount(n)})};p.create=function(e,n){return new p(e,n)};p.version=un;let P=[],ye,it,rt=!1,Ze,Qe,We,we;function An(){function e(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(let n in this)n.charAt(0)==="_"&&typeof this[n]=="function"&&(this[n]=this[n].bind(this))}return e.prototype={dragStarted({originalEvent:n}){this.sortable.nativeDraggable?_(document,"dragover",this._handleAutoScroll):this.options.supportPointer?_(document,"pointermove",this._handleFallbackAutoScroll):n.touches?_(document,"touchmove",this._handleFallbackAutoScroll):_(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted({originalEvent:n}){!this.options.dragOverBubble&&!n.rootEl&&this._handleAutoScroll(n)},drop(){this.sortable.nativeDraggable?v(document,"dragover",this._handleAutoScroll):(v(document,"pointermove",this._handleFallbackAutoScroll),v(document,"touchmove",this._handleFallbackAutoScroll),v(document,"mousemove",this._handleFallbackAutoScroll)),xt(),Fe(),dn()},nulling(){We=it=ye=rt=we=Ze=Qe=null,P.length=0},_handleFallbackAutoScroll(n){this._handleAutoScroll(n,!0)},_handleAutoScroll(n,t){const o=(n.touches?n.touches[0]:n).clientX,i=(n.touches?n.touches[0]:n).clientY,l=document.elementFromPoint(o,i);if(We=n,t||this.options.forceAutoScrollFallback||Ee||ie||ve){et(n,this.options,l,t);let r=ae(l,!0);rt&&(!we||o!==Ze||i!==Qe)&&(we&&xt(),we=setInterval(()=>{let a=ae(document.elementFromPoint(o,i),!0);a!==r&&(r=a,Fe()),et(n,this.options,a,t)},10),Ze=o,Qe=i)}else{if(!this.options.bubbleScroll||ae(l,!0)===ee()){Fe();return}et(n,this.options,ae(l,!1),!1)}}},oe(e,{pluginName:"scroll",initializeByDefault:!0})}function Fe(){P.forEach(function(e){clearInterval(e.pid)}),P=[]}function xt(){clearInterval(we)}const et=Yt(function(e,n,t,o){if(!n.scroll)return;const i=(e.touches?e.touches[0]:e).clientX,l=(e.touches?e.touches[0]:e).clientY,r=n.scrollSensitivity,a=n.scrollSpeed,s=ee();let c=!1,d;it!==t&&(it=t,Fe(),ye=n.scroll,d=n.scrollFn,ye===!0&&(ye=ae(t,!0)));let f=0,b=ye;do{let g=b,S=R(g),H=S.top,z=S.bottom,I=S.left,j=S.right,C=S.width,Y=S.height,q,Q,te=g.scrollWidth,y=g.scrollHeight,w=h(g),X=g.scrollLeft,N=g.scrollTop;g===s?(q=C<te&&(w.overflowX==="auto"||w.overflowX==="scroll"||w.overflowX==="visible"),Q=Y<y&&(w.overflowY==="auto"||w.overflowY==="scroll"||w.overflowY==="visible")):(q=C<te&&(w.overflowX==="auto"||w.overflowX==="scroll"),Q=Y<y&&(w.overflowY==="auto"||w.overflowY==="scroll"));let E=q&&(Math.abs(j-i)<=r&&X+C<te)-(Math.abs(I-i)<=r&&!!X),T=Q&&(Math.abs(z-l)<=r&&N+Y<y)-(Math.abs(H-l)<=r&&!!N);if(!P[f])for(let O=0;O<=f;O++)P[O]||(P[O]={});(P[f].vx!=E||P[f].vy!=T||P[f].el!==g)&&(P[f].el=g,P[f].vx=E,P[f].vy=T,clearInterval(P[f].pid),(E!=0||T!=0)&&(c=!0,P[f].pid=setInterval(function(){o&&this.layer===0&&p.active._onTouchMove(We);let O=P[this.layer].vy?P[this.layer].vy*a:0,B=P[this.layer].vx?P[this.layer].vx*a:0;typeof d=="function"&&d.call(p.dragged.parentNode[$],B,O,e,We,P[this.layer].el)!=="continue"||Ft(P[this.layer].el,B,O)}.bind({layer:f}),24))),f++}while(n.bubbleScroll&&b!==s&&(b=ae(b,!1)));rt=c},30),zt=function({originalEvent:e,putSortable:n,dragEl:t,activeSortable:o,dispatchSortableEvent:i,hideGhostForTarget:l,unhideGhostForTarget:r}){if(!e)return;let a=n||o;l();let s=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:e,c=document.elementFromPoint(s.clientX,s.clientY);r(),a&&!a.el.contains(c)&&(i("spill"),this.onSpill({dragEl:t,putSortable:n}))};function ut(){}ut.prototype={startIndex:null,dragStart({oldDraggableIndex:e}){this.startIndex=e},onSpill({dragEl:e,putSortable:n}){this.sortable.captureAnimationState(),n&&n.captureAnimationState();let t=me(this.sortable.el,this.startIndex,this.options);t?this.sortable.el.insertBefore(e,t):this.sortable.el.appendChild(e),this.sortable.animateAll(),n&&n.animateAll()},drop:zt};oe(ut,{pluginName:"revertOnSpill"});function ct(){}ct.prototype={onSpill({dragEl:e,putSortable:n}){const t=n||this.sortable;t.captureAnimationState(),e.parentNode&&e.parentNode.removeChild(e),t.animateAll()},drop:zt};oe(ct,{pluginName:"removeOnSpill"});p.mount(new An);p.mount(ct,ut);function Mn(e){return e==null?e:JSON.parse(JSON.stringify(e))}function In(e){D.getCurrentInstance()&&D.onUnmounted(e)}function Nn(e){D.getCurrentInstance()?D.onMounted(e):D.nextTick(e)}let Gt=null,Ut=null;function Ot(e=null,n=null){Gt=e,Ut=n}function Pn(){return{data:Gt,clonedData:Ut}}const At=Symbol("cloneElement");function ft(...e){var Q,te;const n=(Q=D.getCurrentInstance())==null?void 0:Q.proxy;let t=null;const o=e[0];let[,i,l]=e;Array.isArray(D.unref(i))||(l=i,i=null);let r=null;const{immediate:a=!0,clone:s=Mn,customUpdate:c}=(te=D.unref(l))!=null?te:{};function d(y){var O;const{from:w,oldIndex:X,item:N}=y;t=Array.from(w.childNodes);const E=D.unref((O=D.unref(i))==null?void 0:O[X]),T=s(E);Ot(E,T),N[At]=T}function f(y){const w=y.item[At];if(!en(w)){if(ze(y.item),D.isRef(i)){const X=[...D.unref(i)];i.value=bt(X,y.newDraggableIndex,w);return}bt(D.unref(i),y.newDraggableIndex,w)}}function b(y){const{from:w,item:X,oldIndex:N,oldDraggableIndex:E,pullMode:T,clone:O}=y;if(yt(w,X,N),T==="clone"){ze(O);return}if(D.isRef(i)){const B=[...D.unref(i)];i.value=mt(B,E);return}mt(D.unref(i),E)}function g(y){if(c){c(y);return}const{from:w,item:X,oldIndex:N,oldDraggableIndex:E,newDraggableIndex:T}=y;if(ze(X),yt(w,X,N),D.isRef(i)){const O=[...D.unref(i)];i.value=gt(O,E,T);return}gt(D.unref(i),E,T)}function S(y){const{newIndex:w,oldIndex:X,from:N,to:E}=y;let T=null;const O=w===X&&N===E;try{if(O){let B=null;t==null||t.some((xe,$e)=>{if(B&&(t==null?void 0:t.length)!==E.childNodes.length)return N.insertBefore(B,xe.nextSibling),!0;const jt=E.childNodes[$e];B=E==null?void 0:E.replaceChild(xe,jt)})}}catch(B){T=B}finally{t=null}D.nextTick(()=>{if(Ot(),T)throw T})}const H={onUpdate:g,onStart:d,onAdd:f,onRemove:b,onEnd:S};function z(y){const w=D.unref(o);return y||(y=tn(w)?nn(w,n==null?void 0:n.$el):w),y&&!ln(y)&&(y=y.$el),y||Kt("Root element not found"),y}function I(){var N;const E=(N=D.unref(l))!=null?N:{},{immediate:y,clone:w}=E,X=Ae(E,["immediate","clone"]);return wt(X,(T,O)=>{an(T)&&(X[T]=(B,...xe)=>{const $e=Pn();return sn(B,$e),O(B,...xe)})}),rn(i===null?{}:H,X)}const j=y=>{y=z(y),r&&C.destroy(),r=new p(y,I())};D.watch(()=>l,()=>{r&&wt(I(),(y,w)=>{r==null||r.option(y,w)})},{deep:!0});const C={option:(y,w)=>r==null?void 0:r.option(y,w),destroy:()=>{r==null||r.destroy(),r=null},save:()=>r==null?void 0:r.save(),toArray:()=>r==null?void 0:r.toArray(),closest:(...y)=>r==null?void 0:r.closest(...y)},Y=()=>C==null?void 0:C.option("disabled",!0),q=()=>C==null?void 0:C.option("disabled",!1);return Nn(()=>{a&&j()}),In(C.destroy),F({start:j,pause:Y,resume:q},C)}const lt=["update","start","add","remove","choose","unchoose","end","sort","filter","clone","move","change"],Rn=["clone","animation","ghostClass","group","sort","disabled","store","handle","draggable","swapThreshold","invertSwap","invertedSwapThreshold","removeCloneOnHide","direction","chosenClass","dragClass","ignore","filter","preventOnFilter","easing","setData","dropBubble","dragoverBubble","dataIdAttr","delay","delayOnTouchOnly","touchStartThreshold","forceFallback","fallbackClass","fallbackOnBody","fallbackTolerance","fallbackOffset","supportPointer","emptyInsertThreshold","scroll","forceAutoScrollFallback","scrollSensitivity","scrollSpeed","bubbleScroll","modelValue","tag","target","customUpdate",...lt.map(e=>`on${e.replace(/^\S/,n=>n.toUpperCase())}`)],Xn=D.defineComponent({name:"VueDraggable",model:{prop:"modelValue",event:"update:modelValue"},props:Rn,emits:["update:modelValue",...lt],setup(e,{slots:n,emit:t,expose:o,attrs:i}){const l=lt.reduce((d,f)=>{const b=`on${f.replace(/^\S/,g=>g.toUpperCase())}`;return d[b]=(...g)=>t(f,...g),d},{}),r=D.computed(()=>{const g=D.toRefs(e),{modelValue:d}=g,f=Ae(g,["modelValue"]),b=Object.entries(f).reduce((S,[H,z])=>{const I=D.unref(z);return I!==void 0&&(S[H]=I),S},{});return F(F({},l),Qt(F(F({},i),b)))}),a=D.computed({get:()=>e.modelValue,set:d=>t("update:modelValue",d)}),s=D.ref(),c=D.reactive(ft(e.target||s,a,r));return o(c),()=>{var d;return D.h(e.tag||"div",{ref:s},(d=n==null?void 0:n.default)==null?void 0:d.call(n,c))}}}),Mt={mounted:"mounted",unmounted:"unmounted"},tt=new WeakMap,Yn={[Mt.mounted](e,n){const t=D.isProxy(n.value)?[n.value]:n.value,[o,i]=t,l=ft(e,o,i);tt.set(e,l.destroy)},[Mt.unmounted](e){var n;(n=tt.get(e))==null||n(),tt.delete(e)}};exports.VueDraggable=Xn;exports.useDraggable=ft;exports.vDraggable=Yn;
